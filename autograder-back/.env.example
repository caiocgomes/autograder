# =============================================================================
# Autograder — Configuração de Produção
# Copie para .env e preencha os valores marcados com PREENCHER
# =============================================================================

# -----------------------------------------------------------------------------
# Banco de dados (aponta para o container Docker — não alterar)
# -----------------------------------------------------------------------------
POSTGRES_USER=autograder
POSTGRES_PASSWORD=PREENCHER_senha_forte
POSTGRES_DB=autograder
DATABASE_URL=postgresql://autograder:PREENCHER_senha_forte@db:5432/autograder

# -----------------------------------------------------------------------------
# Redis (aponta para o container Docker — não alterar)
# -----------------------------------------------------------------------------
REDIS_PASSWORD=PREENCHER_senha_forte
REDIS_URL=redis://:PREENCHER_senha_forte@redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
CELERY_BROKER_URL=redis://:PREENCHER_senha_forte@redis:6379/0
CELERY_RESULT_BACKEND=redis://:PREENCHER_senha_forte@redis:6379/0

# -----------------------------------------------------------------------------
# JWT (gerar com: openssl rand -hex 32)
# -----------------------------------------------------------------------------
JWT_SECRET_KEY=PREENCHER_openssl_rand_hex_32
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Segurança
# -----------------------------------------------------------------------------
BCRYPT_COST_FACTOR=12
RATE_LIMIT_FAILED_LOGINS=5
RATE_LIMIT_WINDOW_MINUTES=15

# -----------------------------------------------------------------------------
# LLM (opcional — só necessário se usar correção automática por LLM)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
LLM_PROVIDER=openai

# -----------------------------------------------------------------------------
# Sandbox (não alterar)
# -----------------------------------------------------------------------------
DOCKER_IMAGE_SANDBOX=autograder-sandbox:latest
SANDBOX_TIMEOUT_SECONDS=30
SANDBOX_MEMORY_LIMIT_MB=512
SANDBOX_CPU_LIMIT=1

# -----------------------------------------------------------------------------
# Uploads e CORS
# -----------------------------------------------------------------------------
MAX_EXERCISE_FILE_SIZE_MB=10
MAX_SUBMISSION_FILE_SIZE_MB=10
UPLOAD_BASE_DIR=./uploads
CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# Ambiente
# -----------------------------------------------------------------------------
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=text

# -----------------------------------------------------------------------------
# Hotmart
# -----------------------------------------------------------------------------
HOTMART_HOTTOK=PREENCHER_token_do_webhook_hotmart
HOTMART_WEBHOOK_ENABLED=true
HOTMART_CLIENT_ID=PREENCHER_client_id
HOTMART_CLIENT_SECRET=PREENCHER_client_secret
HOTMART_API_BASE=https://developers.hotmart.com/payments/api/v1
HOTMART_TOKEN_URL=https://api-sec-vlc.hotmart.com/security/oauth/token

# -----------------------------------------------------------------------------
# Discord
# -----------------------------------------------------------------------------
DISCORD_BOT_TOKEN=PREENCHER_token_do_bot
DISCORD_GUILD_ID=PREENCHER_id_do_servidor
DISCORD_REGISTRATION_CHANNEL_ID=PREENCHER_id_do_canal
DISCORD_ENABLED=true

# -----------------------------------------------------------------------------
# Evolution API (WhatsApp — já rodando no servidor)
# -----------------------------------------------------------------------------
EVOLUTION_API_URL=http://localhost:PREENCHER_porta_evolution
EVOLUTION_API_KEY=PREENCHER_api_key
EVOLUTION_INSTANCE=PREENCHER_nome_da_instancia
EVOLUTION_ENABLED=true
